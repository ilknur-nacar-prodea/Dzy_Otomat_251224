sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/FilterOperator","sap/m/GroupHeaderListItem","sap/ui/Device","sap/ui/core/Fragment","../model/formatter","sap/ui/core/UIComponent","sap/ui/core/routing/HashChanger"],function(t,e,r,i,a,o,s,n,h,l,u,c){"use strict";var g,p;return t.extend("app.DzyOtomat.controller.ConfirmStockReq",{formatter:l,onInit:function(){debugger;var t=this.byId("list");this._oList=t;this._oListFilterState={aFilter:[],aSearch:[]};this.getRouter().getRoute("ConfirmStockReq").attachMatched(this._onMasterMatched,this)},_onMasterMatched:function(t){g=t.getParameter("arguments").trip;p=t.getParameter("arguments").plate;this.getView().byId("list").getBinding("items").refresh(true)},onSelectionChange:function(t){debugger;this.getRouter().navTo("ConfirmStockReqDetail",{trip:g,plate:p,req:t.getSource().getTitle()})},onSearch:function(t){if(t.getParameters().refreshButtonPressed){this.onRefresh();return}var e=t.getParameter("query");if(e){this._oListFilterState.aSearch=[new i("TalepNo",o.Contains,e)]}else{this._oListFilterState.aSearch=[]}this._applyFilterSearch()},_applyFilterSearch:function(){var t=this._oListFilterState.aSearch.concat(this._oListFilterState.aFilter),e=this.getModel("masterView");this._oList.getBinding("items").filter(t,"Application");if(t.length!==0){e.setProperty("/noDataText",this.getResourceBundle().getText("masterListNoDataWithFilterOrSearchText"))}else if(this._oListFilterState.aSearch.length>0){e.setProperty("/noDataText",this.getResourceBundle().getText("masterListNoDataText"))}},onNavBack:function(){this.getView().byId("list").refreshItems();var t=this.getOwnerComponent().getRouter();t.navTo("Trips",true)}})});